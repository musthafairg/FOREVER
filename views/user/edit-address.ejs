<title>Home | Edit Address</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/edit-address.css">


<%- include('../partials/user/header.ejs') %>

<section class="profile-container">
  <div class="profile-grid">

    <!-- SIDEBAR -->
    <aside class="profile-sidebar">
      <div class="profile-card">
        <img src="/uploads/profile/<%= user.profileImage %>" class="profile-avatar">
        <h3><%= user.name %></h3>
        <p><%= user.email %></p>
      </div>
      <ul class="profile-menu">
        <li><a href="/user-profile">Profile</a></li>
        <li><a href="/cart">Cart</a></li>
        <li><a href="/orders">Orders</a></li>
        <li class="active"><a href="/address">Addresses</a></li>
        <li><a href="/wallet">Wallet</a></li>
        <li><a href="/edit-profile">Edit Profile</a></li> 
        <li><a href="/change-password">Change Password</a></li>
        <li><a href="/change-email">Change Email</a></li>
        <li class="danger"><a href="/logout">Logout</a></li>

      </ul>
    </aside>

    <!-- CONTENT -->
    <section class="profile-content">
      <div class="profile-box">
        <h2>Edit Address</h2>

        <form id="editAddressForm" class="form-box">

          <input type="hidden" id="addressIndex" value="<%= index %>">


          <% const a = address; %>

          <% const fields = [
            "addressType","name","houseName","place","city",
            "district","state","pincode","phone","altPhone"
          ]; %>

          <% fields.forEach(f => { %>
            <div class="form-group">
              <label><%= f.replace(/([A-Z])/g," $1") %></label>
              <input name="<%= f %>" value="<%= a[f] || '' %>">
              <small id="error-<%= f %>" class="error"></small>
            </div>
          <% }) %>

          <button class="btn-primary">Update Address</button>
        </form>

      </div>
    </section>

  </div>
</section>

<%- include('../partials/user/footer.ejs') %>

<script src="/js/edit-address.js"></script>