<title>Home | Edit Address</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="/css/style.css">

<style>
/* SAME STYLE AS ADD ADDRESS */
.profile-container { max-width:1200px; margin:40px auto; padding:0 20px; }
.profile-grid { display:grid; grid-template-columns:280px 1fr; gap:30px; }
.profile-sidebar { background:#fff; border:1px solid #eee; border-radius:10px; }
.profile-card { padding:25px; text-align:center; border-bottom:1px solid #eee; }
.profile-avatar { width:90px; height:90px; border-radius:50%; object-fit:cover; margin-bottom:10px; }
.profile-menu li.active { background:#f9f9f9; color:#ff3c3c; }
.profile-content { margin:-20px; }
.profile-box { background:#fff; border-radius:10px; padding:25px; border:1px solid #eee; }
.form-box { max-width:800px; margin:20px; }
.form-group { margin-bottom:18px; }
.form-group label { font-size:14px; margin-bottom:6px; display:block; }
.form-group input { width:100%; padding:10px; border-radius:6px; border:1px solid #ddd; }
.btn-primary { background:#ff3c3c; color:#fff; padding:12px; width:100%; border-radius:6px; border:none; cursor:pointer; }
.error { color:red; font-size:12px; margin-top:4px; display:block; }
</style>

<%- include('../partials/user/header.ejs') %>

<section class="profile-container">
  <div class="profile-grid">

    <!-- SIDEBAR -->
    <aside class="profile-sidebar">
      <div class="profile-card">
        <img src="/uploads/profile/<%= user.profileImage %>" class="profile-avatar">
        <h3><%= user.name %></h3>
        <p><%= user.email %></p>
      </div>
      <ul class="profile-menu">
        <li><a href="/user-profile">Profile</a></li>
        <li><a href="/cart">Cart</a></li>
        <li><a href="/orders">Orders</a></li>
        <li class="active"><a href="/address">Addresses</a></li>
        <li><a href="/wallet">Wallet</a></li>
        <li><a href="/edit-profile">Edit Profile</a></li> 
        <li><a href="/change-password">Change Password</a></li>
        <li><a href="/change-email">Change Email</a></li>
        <li class="danger"><a href="/logout">Logout</a></li>

      </ul>
    </aside>

    <!-- CONTENT -->
    <section class="profile-content">
      <div class="profile-box">
        <h2>Edit Address</h2>

        <form id="editAddressForm" class="form-box">

          <% const a = address; %>

          <% const fields = [
            "addressType","name","houseName","place","city",
            "district","state","pincode","phone","altPhone"
          ]; %>

          <% fields.forEach(f => { %>
            <div class="form-group">
              <label><%= f.replace(/([A-Z])/g," $1") %></label>
              <input name="<%= f %>" value="<%= a[f] || '' %>">
              <small id="error-<%= f %>" class="error"></small>
            </div>
          <% }) %>

          <button class="btn-primary">Update Address</button>
        </form>

      </div>
    </section>

  </div>
</section>

<%- include('../partials/user/footer.ejs') %>

<script src="/js/edit-address.js"></script>