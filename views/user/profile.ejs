<title>Home | User Profile</title>

<link
  href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&display=swap"
  rel="stylesheet"
/>
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
/>
<link rel="stylesheet" href="/css/style.css" />
<link rel="stylesheet" href="/css/profile.css" />


<%- include('../partials/user/header.ejs') %>

<section class="profile-container">
  <div class="profile-grid">
    <!-- LEFT SIDEBAR -->
    <aside class="profile-sidebar">
      <div class="profile-card">
        <img
          src="/uploads/profile/<%= user.profileImage %>"
          alt="User"
          class="profile-avatar"
        />
        <h3><%= user.name%></h3>
        <p><%= user.email%></p>
      </div>

      <ul class="profile-menu">
        <li class="active"><a href="/user-profile">Profile</a></li>
        <li><a href="/cart">Cart</a></li>
        <li><a href="/orders">Orders</a></li>
        <li><a href="/address">Addresses</a></li>
        <li><a href="/wallet">Wallet</a></li>
        <li><a href="/edit-profile">Edit Profile</a></li>
        <li><a href="/change-password">Change Password</a></li>
        <li><a href="/change-email">Change Email</a></li>
        <li class="danger"><a href="/logout">Logout</a></li>
      </ul>
    </aside>

    <!-- MAIN CONTENT -->
    <div class="profile-content">
      <div class="profile-box">
        <h2>User Details</h2>
        <div class="info-grid">
          <div>
            <label>Name</label>
            <p><%= user.name%></p>
          </div>
          <div>
            <label>Email</label>
            <p><%= user.email%></p>
          </div>
          <div>
            <label>Phone</label>
            <p><%= user.mobile%></p>
          </div>

           <div class="card">
        <h5>Your Referral Code</h5>
        <strong><%= user.referalCode %></strong>
        <p>Share this code & earn rewards</p>
      </div>
        </div>
      </div>

     

      <div class="profile-box">
        <h2>Default Address</h2>

        <% if (defaultAddress) { %>
        <p>
          <%= defaultAddress.houseName %><br />
          <%= defaultAddress.place %>, <%= defaultAddress.city %><br />
          <%= defaultAddress.district %>, <%= defaultAddress.state %><br />
          <%= defaultAddress.pincode %><br />
          Phone: <%= defaultAddress.phone %><br />
          Alt: <%= defaultAddress.altPhone %>
        </p>
        <% } else { %>
        <p>No default address set.</p>
        <% } %>
      </div>
    </div>
  </div>
</section>

<%- include('../partials/user/footer.ejs') %>
